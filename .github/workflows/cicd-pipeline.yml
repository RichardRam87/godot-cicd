name: cicd-pipeline

on:
    workflow_dispatch:

permissions:
    checks: write
    contents: read

jobs:
  test:
    name: Run Tests
    runs-on: ubuntu-latest
    steps:
        - uses: actions/checkout@v4
          name: ðŸ§¾ Checkout

        - uses: chickensoft-games/setup-godot@v1
          name: ðŸ¤– Setup Godot
          with:
            version: 4.3.0
            use-dotnet: false
        
        - name: ðŸ”¬ Verify Setup
          run: |
              godot --version

        - uses: MikeSchulze/gdUnit4-action@v1.1.5
          with:
            godot-version: '4.3'
            paths: 'res://tests/'
            timeout: 5
            report-name: test_report.xml     
